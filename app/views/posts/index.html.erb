<div class='container my-5 d-flex justify-content-center flex-column'>
  <div class='mx-auto'>
    <% if flash.notice %>
      <div class='alert alert-success'>
        <%= render 'layouts/notice' %>
      </div>
    <% end %>
    <% if flash.alert %>
      <div class='alert alert-danger'>
        <%= render 'layouts/alerts' %>
      </div>
    <% end %>
    <div class="d-flex justify-content-between align-items-center">
      <h1 class="mr-5">List of all the posts</h1>
      <div>
      <% if user_signed_in? %>
        <span class='text-muted'>Signed in as <%= current_user.name %></span>
        <%= link_to 'Create a New Secret', new_post_path, class: 'btn btn-success btn-sm'%>
        <%= link_to 'Sign Out', destroy_user_session_path, method: 'delete', class: 'btn btn-danger btn-sm' %>
      <% else %>
        <%= link_to 'Sign In', new_user_session_path, class: 'btn btn-outline-primary btn-sm' %>
        <%= link_to 'Sign Up', new_user_registration_path, class: 'btn btn-primary btn-sm' %>
      <% end %>
      </div>
    </div>

    <div class="row row-cols-2">
      <% @posts.each do |post|%>
        <div class="pr-3 mt-3 pb-2">
          <div class="card" >
            <div class='card-header'>
              <%= post.title %>
            </div>
            <div class="card-body">
              <% if user_signed_in? %>
                <h6 class="card-subtitle mb-2 text-muted"><strong>By <%= post.user.name %></strong></h6>
              <% else %>
                <h6 class="card-subtitle mb-2 text-muted"><strong>By Anonymous</strong></h6>
              <% end %>
              <p class="card-text"><%= post.body %></p>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </div>
</div>